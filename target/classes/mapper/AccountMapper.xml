<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pengkk27.pwstorage.dao.AccountMapper">

    <insert id="addAccount" parameterType="account">
        insert into pwstorage.account(account_id, account_number, account_password, account_description, account_title,
                                      category_id, user_id)
        values (#{account.accountId}, #{account.accountNumber}, #{account.accountPassword},
                #{account.accountDescription}, #{account.title}, #{categoryId}, #{userId});
    </insert>

    <update id="updateAccount" parameterType="account">
        update pwstorage.account
        <set>
            <if test="account.accountNumber != null">account_number = #{account.accountNumber},</if>
            <if test="account.accountPassword != null">account_password = #{account.accountPassword},</if>
            <if test="account.accountDescription != null">account_description = #{account.accountDescription},</if>
            <if test="account.title != null"> account_title = #{account.title},</if>
            <if test="categoryId != null">category_id = #{categoryId}</if>
        </set>
        where account_id = #{account.accountId};
    </update>

    <delete id="deleteAccountById">
        delete
        from pwstorage.account
        where account_id = #{accountId};
    </delete>
</mapper>